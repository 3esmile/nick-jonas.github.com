/*!
 * SliderJS: jQuery Plugin for full screen slideshows
 * Version: 0.2.2
 * Original author: @nick-jonas
 * Website: http://www.workofjonas.com
 * Licensed under the MIT license
 */
(function(y,m,H,w){var A=this,v="slider",p={media:[],startIndex:0,sizeConstraint:"cover",leftArrow:null,rightArrow:null,hideArrows:false,manualShift:false,enableKeys:true,width:"100%",height:"100%",animationSpeed:600,topPadding:0,bottomPadding:0,preloaderPath:"ajax-loader.gif",minWidth:0,minHeight:0},I={},h={},N=false,k=false,C=false,q=true,E=true,G=false,c,u,a;function r(Q,P){this.element=Q;I=I=y.extend({},p,P);if(I.media.length===0){throw new Error("You have not supplied SliderJS with any media!")}this._defaults=p;this._name=v;q=I.width[I.width.length-1]==="%";E=I.height[I.width.length-1]==="%";I.minWidth=parseInt(I.minWidth,10);I.minHeight=parseInt(I.minHeight,10);t(I.startIndex);this.init()}r.prototype.init=function(){var P=y(this.element),Y=this,W=0,T=I.media.length,V=null,X=null,U=null,S='<div class="left-img img-container"><img src=""/></div>',Q='<div class="center-img img-container"><img src=""/></div>',R='<div class="right-img img-container"><img src=""/></div>';P.append('<div class="slider-container"></div>');h=y(".slider-container");K();h.css("opacity",0);y(m).bind("resize",y.proxy(this.resize,this));if(I.enableKeys===true){y(H).bind("keydown",l)}h.append(S+Q+R);V=y(".left-img");X=y(".center-img");U=y(".right-img");V.find("img").attr("src",o(c));X.find("img").attr("src",x(a));U.find("img").attr("src",o(u));setTimeout(function(){var Z=3;y(".img-container").each(function(aa){var ab=y(this).find("img");ab.ensureLoad(function(){Z-=1;L(ab);if(Z===0){d()}})})},200)};y.fn.resize=r.prototype.resize=function(){var P=this,Q=y(m).width(),S=y(".img-container img"),R=(Q-h.find(".center-img img").width())/2;h.css("width",g()+"px");h.css("height",j()+"px");if(I.sizeConstraint=="contain"&&h.find(".center-img img").width()){h.css("left",R+"px")}S.each(function(T){L(y(this))})};y.fn.getCurrentIndex=function(){return a};y.fn.getLeftIndex=function(){return c};y.fn.getRightIndex=function(){return u};y.fn.isLoading=function(){return !N};y.fn.isLoadingLeft=function(){return k};y.fn.isLoadingRight=function(){return C};y.fn.isAnimating=function(){return G};var f=y.fn.canShiftLeft=function(){return(N&&!C&&!G)};var i=y.fn.canShiftRight=function(){return(N&&!k&&!G)};var J=y.fn.shiftLeft=r.prototype.shiftLeft=function(){var R=y(m).width(),U=h.find(".left-img"),T=h.find(".right-img"),V=h.find(".center-img"),X=0,P=-R;if(f()){G=true;a=a+1;if(a>=I.media.length){a=0}t(a);s();if(I.sizeConstraint==="contain"){var S=new Image();S.src=T.find("img").attr("src");var W=S.width;var Q=S.height;X=(R-T.find("img").width())/2;P=-V.find("img").width()+(R/2)-(T.find("img").width()/2)}T.css("z-index",5).addClass("transIn");V.addClass("transOut");B();h.animate({left:P+"px"},I.animationSpeed,function(){G=false;h.css("left",X+"px");V.removeClass("center-img").addLeftProperties(I);U.removeClass("left-img").addRightProperties(I).find("img").css("display","none").attr("src",o(u));T.removeClass("right-img").addCenterProperties(I);T.removeClass("transIn");V.removeClass("transOut");s();$newRight=h.find(".right-img img");$newCenter=h.find(".center-img img");$newLeft=h.find(".left-img img");$newCenter.attr("src",x(a));$newRight.ensureLoad(function(){var Y=this;setTimeout(function(){var Z=y(Y);Z.css({opacity:0.3,display:"block"});Z.stop().animate({opacity:1},250);b();N=true},200);L(y(this))})});return true}else{return false}};var O=y.fn.shiftRight=r.prototype.shiftRight=function(){var R=y(m).width(),U=h.find(".left-img"),T=h.find(".right-img"),V=h.find(".center-img"),X=0,P=R;if(i()){G=true;a=a-1;if(a<0){a=I.media.length-1}t(a);s();z();if(I.sizeConstraint==="contain"){var S=new Image();S.src=U.find("img").attr("src");var W=S.width;var Q=S.height;X=(R-U.find("img").width())/2;P=(R/2)+(U.find("img").width()/2)}U.css("z-index",5);U.addClass("transIn");V.addClass("transOut");h.animate({left:P+"px"},I.animationSpeed,function(){G=false;h.css("left",X+"px");T.removeClass("right-img").addLeftProperties(I).find("img").css("display","none").attr("src",o(c));V.removeClass("center-img").addRightProperties(I);U.removeClass("left-img").addCenterProperties(I);U.removeClass("transIn");V.removeClass("transOut");s();$newLeft=h.find(".left-img img");$newRight=h.find(".right-img img");$newCenter=h.find(".center-img img");$newCenter.attr("src",x(a));$newLeft.ensureLoad(function(){var Y=this;setTimeout(function(){var Z=y(Y);Z.css({opacity:0.3,display:"block"});Z.stop().animate({opacity:1},250);n();N=true},200);L(y(this))})});return true}else{return false}};y.fn.destroy=function(){$leftArrow.unbind("click",e);$rightArrow.unbind("click",F);if(I.enableKeys===true){y(H).unbind("keydown",l)}y(m).unbind("resize",this.resize);y(this).removeData();h.remove()};var K=function(){var Q=y(A.element),P=I.media.length;if(P>1){if(I.leftArrow){if(I.leftArrow instanceof jQuery){$leftArrow=I.leftArrow}else{throw new Error("left arrow provided is not a jQuery instance: "+I.leftArrow)}}else{h.append('<div class="arrow-container left">'+D()+"</div>");$leftArrow=y(".arrow-container.left")}if(I.rightArrow){if(I.rightArrow instanceof jQuery){$rightArrow=I.rightArrow}else{throw new Error("left arrow provided is not a jQuery instance: "+I.rightArrow)}}else{h.append('<div class="arrow-container right">'+D()+"</div>");$rightArrow=y(".arrow-container.right")}}if(I.hideArrows===true){this.$leftArrow.hide();this.$rightArrow.hide()}else{this.$leftArrow.bind("click",y.proxy(e,this));this.$rightArrow.bind("click",y.proxy(F,this))}};var z=function(){k=true;y(".arrow-container.left").html(D())};var B=function(){C=true;y(".arrow-container.right").html(D())};var n=function(){k=false;y(".arrow-container.left").html('<span class="slider-js-left-arrow"></span>')};var b=function(){C=false;y(".arrow-container.right").html('<span class="slider-js-right-arrow"></span>')};var D=function(){return'<div class="loader-wrapper"><img src="'+I.preloaderPath+'"/></div>'};var l=function(P){switch(P.keyCode){case 37:O();break;case 39:J();break}};var e=function(){h.parent().trigger("slider:onLeft");if(I.manualShift===false){O()}};var F=function(){h.parent().trigger("slider:onRight");if(I.manualShift===false){J()}};var d=function(){N=true;y(this).resize();var P=y(A.element);n();b();h.animate({opacity:1},400);h.parent().trigger("slider:loadComplete")};var s=function(){L(h.find(".center-img img"));L(h.find(".left-img img"));L(h.find(".right-img img"))};var M=0;var L=function(U){var Q=g(),V=j(),aa=Q/V,S=new Image(),W={},X,P,R,T,Z;S.src=U.attr("src");X=S.width;P=S.height;Z=X/P;if(I.sizeConstraint==="contain"){if(aa>Z){T=j();if(T<I.minHeight){T=I.minHeight}R=(T/P)*X;W={height:T,width:R}}else{R=g();if(R<I.minWidth){R=I.minWidth}T=(R/X)*P;W={width:R,height:T}}}else{if(aa<Z){T=j();if(T<I.minHeight){T=I.minHeight}R=(T/P)*X;W={height:T,width:R}}else{R=g();if(R<I.minWidth){R=I.minWidth}T=(R/X)*P;W={width:R,height:T}}}if(!W.width||!W.height){return}if(U.parent().hasClass("center-img")){M=R}W.width=W.width+"px";W.height=W.height+"px";U.css(W);if(I.sizeConstraint=="contain"){U.parent().css("top",Math.max(I.topPadding,((V/2)+U.height()/-2))+"px")}if(U.parent().hasClass("center-img")){U.parent().css("margin-left",(Q/-2)+"px")}if(U.parent().hasClass("left-img")){if(I.sizeConstraint=="contain"){U.parent().css("left",(Q/2)-(h.find(".center-img").width()/2)-U.width()+"px")}else{U.parent().css("left",-Q+"px")}}if(U.parent().hasClass("right-img")){if(I.sizeConstraint=="contain"){var Y=(Q-M)/2;U.parent().css("left",(Q/2)+(M/2)-Y+"px")}else{U.parent().css("left",Q+"px")}}};var g=function(S){var R=y(m).width(),Q;if(q){var P=parseInt(I.width.replace("%",""),10)/100;Q=P*R}else{Q=I.width.replace("px","")}if(S===true){Q+="px"}return Q};var j=function(S){var P=m.innerHeight,R;if(E){var Q=parseInt(I.height.replace("%",""),10)/100;R=Q*P}else{R=I.height.replace("px","")}if(I.topPadding){R=Math.max(0,R-I.topPadding)}if(I.bottomPadding){R=Math.max(0,R-I.bottomPadding)}if(S===true){R+="px"}return R};var t=function(Q){var P=I.media.length;a=Q;c=a-1;u=a+1;if(c<0){c=P-1}if(u>=P){u=0}};var o=function(P){if(I.media[P].lo_res){return I.media[P].lo_res}return I.media[P].hi_res};var x=function(P){return I.media[P].hi_res};y.fn.extend({ensureLoad:function(P){return this.each(function(){if(this.complete){P.call(this)}else{if(this instanceof jQuery){this.load(P)}else{y(this).load(P)}}})},addCenterProperties:function(P){var Q=g();return this.each(function(){y(this).addClass("center-img").css("left","50%").css("z-index",5).css("margin-left",(Q/-2)+"px")})},addLeftProperties:function(P){var Q=g();return this.each(function(){y(this).addClass("left-img").css("z-index",4).css("margin-left","0px");if(P.sizeConstraint!=="contain"){y(this).css("left",-Q+"px")}})},addRightProperties:function(P){var Q=g();return this.each(function(){y(this).addClass("right-img").css("z-index",4).css("margin-left","0px");if(P.sizeConstraint!=="contain"){y(this).css("left",Q+"px")}})}});y.fn[v]=function(P){return this.each(function(){if(!y.data(this,"plugin_"+v)){y.data(this,"plugin_"+v,new r(this,P))}})}})(jQuery,window,document);