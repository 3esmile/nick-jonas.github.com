/*!
 * SliderJS: jQuery Plugin for full screen slideshows
 * Version: 0.2.1
 * Original author: @nick-jonas
 * Website: http://www.workofjonas.com
 * Licensed under the MIT license
 */
(function(F,n,t,z){var J=this,I="slider",v={media:[],startIndex:0,sizeConstraint:"cover",leftArrow:null,rightArrow:null,hideArrows:false,manualShift:false,enableKeys:true,width:"100%",height:"100%",animationSpeed:600,topPadding:0,bottomPadding:0,preloaderPath:"ajax-loader.gif",minWidth:0,minHeight:0},E={},r={},g=false,H=false,M=false,h=true,b=true,a=false,e,C,u;function y(Q,P){this.element=Q;E=E=F.extend({},v,P);if(E.media.length===0){throw new Error("You have not supplied SliderJS with any media!")}this._defaults=v;this._name=I;h=E.width[E.width.length-1]==="%";b=E.height[E.width.length-1]==="%";E.minWidth=parseInt(E.minWidth,10);E.minHeight=parseInt(E.minHeight,10);i(E.startIndex);this.init()}y.prototype.init=function(){var U=F(this.element),X=this,W=0,Q=E.media.length,Y=null,P=null,V=null,R='<div class="left-img img-container"><img src=""/></div>',T='<div class="center-img img-container"><img src=""/></div>',S='<div class="right-img img-container"><img src=""/></div>';U.append('<div class="slider-container"></div>');r=F(".slider-container");A();r.css("opacity",0);F(n).bind("resize",F.proxy(this.resize,this));if(E.enableKeys===true){F(t).bind("keydown",m)}r.append(R+T+S);Y=F(".left-img");P=F(".center-img");V=F(".right-img");Y.find("img").attr("src",s(e));P.find("img").attr("src",p(u));V.find("img").attr("src",s(C));setTimeout(function(){var Z=3;F(".img-container").each(function(ab){var aa=F(this).find("img");aa.ensureLoad(function(){Z-=1;c(aa);if(Z===0){d()}})})},200)};F.fn.resize=y.prototype.resize=function(){var Q=this,S=F(n).width(),R=F(".img-container img"),P=(S-r.find(".center-img img").width())/2;r.css("width",o()+"px");r.css("height",x()+"px");if(E.sizeConstraint=="contain"&&r.find(".center-img img").width()){r.css("left",P+"px")}R.each(function(T){c(F(this))})};F.fn.getCurrentIndex=function(){return u};F.fn.getLeftIndex=function(){return e};F.fn.getRightIndex=function(){return C};F.fn.isLoading=function(){return !g};F.fn.isLoadingLeft=function(){return H};F.fn.isLoadingRight=function(){return M};F.fn.isAnimating=function(){return a};var j=F.fn.canShiftLeft=function(){return(g&&!M&&!a)};var w=F.fn.canShiftRight=function(){return(g&&!H&&!a)};var B=F.fn.shiftLeft=y.prototype.shiftLeft=function(){var W=F(n).width(),V=r.find(".left-img"),R=r.find(".right-img"),Q=r.find(".center-img"),X=0,S=-W;if(j()){a=true;u=u+1;if(u>=E.media.length){u=0}i(u);G();if(E.sizeConstraint==="contain"){var T=new Image();T.src=R.find("img").attr("src");var U=T.width;var P=T.height;X=(W-R.find("img").width())/2;S=-Q.find("img").width()+(W/2)-(R.find("img").width()/2)}R.css("z-index",5).addClass("transIn");Q.addClass("transOut");l();r.animate({left:S+"px"},E.animationSpeed,function(){a=false;r.css("left",X+"px");Q.removeClass("center-img").addLeftProperties(E);V.removeClass("left-img").addRightProperties(E).find("img").attr("src",s(C));R.removeClass("right-img").addCenterProperties(E);R.removeClass("transIn");Q.removeClass("transOut");G();$newRight=r.find(".right-img img");$newCenter=r.find(".center-img img");$newLeft=r.find(".left-img img");$newCenter.attr("src",p(u));$newRight.ensureLoad(function(){k();g=true;c(F(this))})});return true}else{return false}};var L=F.fn.shiftRight=y.prototype.shiftRight=function(){var W=F(n).width(),V=r.find(".left-img"),R=r.find(".right-img"),Q=r.find(".center-img"),X=0,S=W;if(w()){a=true;u=u-1;if(u<0){u=E.media.length-1}i(u);G();K();if(E.sizeConstraint==="contain"){var T=new Image();T.src=V.find("img").attr("src");var U=T.width;var P=T.height;X=(W-V.find("img").width())/2;S=(W/2)+(V.find("img").width()/2)}V.css("z-index",5);V.addClass("transIn");Q.addClass("transOut");r.animate({left:S+"px"},E.animationSpeed,function(){a=false;r.css("left",X+"px");R.removeClass("right-img").addLeftProperties(E).find("img").attr("src",s(e));Q.removeClass("center-img").addRightProperties(E);V.removeClass("left-img").addCenterProperties(E);V.removeClass("transIn");Q.removeClass("transOut");G();$newLeft=r.find(".left-img img");$newRight=r.find(".right-img img");$newCenter=r.find(".center-img img");$newCenter.attr("src",p(u));$newLeft.ensureLoad(function(){q();c(F(this))})});return true}else{return false}};F.fn.destroy=function(){$leftArrow.unbind("click",f);$rightArrow.unbind("click",O);if(E.enableKeys===true){F(t).unbind("keydown",m)}F(n).unbind("resize",this.resize);F(this).removeData();r.remove()};var A=function(){var Q=F(J.element),P=E.media.length;if(P>1){if(E.leftArrow){if(E.leftArrow instanceof jQuery){$leftArrow=E.leftArrow}else{throw new Error("left arrow provided is not a jQuery instance: "+E.leftArrow)}}else{r.append('<div class="arrow-container left">'+N()+"</div>");$leftArrow=F(".arrow-container.left")}if(E.rightArrow){if(E.rightArrow instanceof jQuery){$rightArrow=E.rightArrow}else{throw new Error("left arrow provided is not a jQuery instance: "+E.rightArrow)}}else{r.append('<div class="arrow-container right">'+N()+"</div>");$rightArrow=F(".arrow-container.right")}}if(E.hideArrows===true){this.$leftArrow.hide();this.$rightArrow.hide()}else{this.$leftArrow.bind("click",F.proxy(f,this));this.$rightArrow.bind("click",F.proxy(O,this))}};var K=function(){H=true;F(".arrow-container.left").html(N())};var l=function(){M=true;F(".arrow-container.right").html(N())};var q=function(){H=false;F(".arrow-container.left").html('<span class="slider-js-left-arrow"></span>')};var k=function(){M=false;F(".arrow-container.right").html('<span class="slider-js-right-arrow"></span>')};var N=function(){return'<div class="loader-wrapper"><img src="'+E.preloaderPath+'"/></div>'};var m=function(P){switch(P.keyCode){case 37:L();break;case 39:B();break}};var f=function(){r.parent().trigger("slider:onLeft");if(E.manualShift===false){L()}};var O=function(){r.parent().trigger("slider:onRight");if(E.manualShift===false){B()}};var d=function(){g=true;F(this).resize();var P=F(J.element);q();k();r.animate({opacity:1},400);r.parent().trigger("slider:loadComplete")};var G=function(){c(r.find(".center-img img"));c(r.find(".left-img img"));c(r.find(".right-img img"))};var D=0;var c=function(Q){var Z=o(),aa=x(),T=Z/aa,V=new Image(),X={},W,R,U,S,P;V.src=Q.attr("src");W=V.width;R=V.height;P=W/R;if(E.sizeConstraint==="contain"){if(T>P){S=x();if(S<E.minHeight){S=E.minHeight}U=(S/R)*W;X={height:S,width:U}}else{U=o();if(U<E.minWidth){U=E.minWidth}S=(U/W)*R;X={width:U,height:S}}}else{if(T<P){S=x();if(S<E.minHeight){S=E.minHeight}U=(S/R)*W;X={height:S,width:U}}else{U=o();if(U<E.minWidth){U=E.minWidth}S=(U/W)*R;X={width:U,height:S}}}if(!X.width||!X.height){return}if(Q.parent().hasClass("center-img")){D=U}X.width=X.width+"px";X.height=X.height+"px";Q.css(X);if(E.sizeConstraint=="contain"){Q.parent().css("top",Math.max(E.topPadding,((aa/2)+Q.height()/-2))+"px")}if(Q.parent().hasClass("center-img")){Q.parent().css("margin-left",(Z/-2)+"px")}if(Q.parent().hasClass("left-img")){if(E.sizeConstraint=="contain"){Q.parent().css("left",(Z/2)-(r.find(".center-img").width()/2)-Q.width()+"px")}else{Q.parent().css("left",-Z+"px")}}if(Q.parent().hasClass("right-img")){if(E.sizeConstraint=="contain"){var Y=(Z-D)/2;Q.parent().css("left",(Z/2)+(D/2)-Y+"px")}else{Q.parent().css("left",Z+"px")}}};var o=function(S){var R=F(n).width(),Q;if(h){var P=parseInt(E.width.replace("%",""),10)/100;Q=P*R}else{Q=E.width.replace("px","")}if(S===true){Q+="px"}return Q};var x=function(S){var R=n.innerHeight,Q;if(b){var P=parseInt(E.height.replace("%",""),10)/100;Q=P*R}else{Q=E.height.replace("px","")}if(E.topPadding){Q=Math.max(0,Q-E.topPadding)}if(E.bottomPadding){Q=Math.max(0,Q-E.bottomPadding)}if(S===true){Q+="px"}return Q};var i=function(P){var Q=E.media.length;u=P;e=u-1;C=u+1;if(e<0){e=Q-1}if(C>=Q){C=0}};var s=function(P){if(E.media[P].lo_res){return E.media[P].lo_res}return E.media[P].hi_res};var p=function(P){return E.media[P].hi_res};F.fn.extend({ensureLoad:function(P){return this.each(function(){if(this.complete){P.call(this)}else{if(this instanceof jQuery){this.load(P)}else{F(this).load(P)}}})},addCenterProperties:function(Q){var P=o();return this.each(function(){F(this).addClass("center-img").css("left","50%").css("z-index",5).css("margin-left",(P/-2)+"px")})},addLeftProperties:function(Q){var P=o();return this.each(function(){F(this).addClass("left-img").css("z-index",4).css("margin-left","0px");if(Q.sizeConstraint!=="contain"){F(this).css("left",-P+"px")}})},addRightProperties:function(Q){var P=o();return this.each(function(){F(this).addClass("right-img").css("z-index",4).css("margin-left","0px");if(Q.sizeConstraint!=="contain"){F(this).css("left",P+"px")}})}});F.fn[I]=function(P){return this.each(function(){if(!F.data(this,"plugin_"+I)){F.data(this,"plugin_"+I,new y(this,P))}})}})(jQuery,window,document);