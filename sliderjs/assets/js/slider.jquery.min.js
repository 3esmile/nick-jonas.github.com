/*!
 * SliderJS: jQuery Plugin for full screen slideshows
 * Version: 0.2.1
 * Original author: @nick-jonas
 * Website: http://www.workofjonas.com
 * Licensed under the MIT license
 */
(function(t,E,z,u){var g=this,j="slider",L={media:[],startIndex:0,sizeConstraint:"cover",leftArrow:null,rightArrow:null,hideArrows:false,manualShift:false,enableKeys:true,width:"100%",height:"100%",animationSpeed:600,topPadding:0,bottomPadding:0,preloaderPath:"ajax-loader.gif",minWidth:0,minHeight:0},F={},o={},p=false,C=false,G=false,n=true,m=true,r=false,N,e,M;function c(Q,P){this.element=Q;F=F=t.extend({},L,P);if(F.media.length===0){throw new Error("You have not supplied SliderJS with any media!")}this._defaults=L;this._name=j;n=F.width[F.width.length-1]==="%";m=F.height[F.width.length-1]==="%";F.minWidth=parseInt(F.minWidth,10);F.minHeight=parseInt(F.minHeight,10);H(F.startIndex);this.init()}c.prototype.init=function(){var W=t(this.element),R=this,V=0,T=F.media.length,Y=null,S=null,Q=null,P='<div class="left-img img-container"><img src=""/></div>',X='<div class="center-img img-container"><img src=""/></div>',U='<div class="right-img img-container"><img src=""/></div>';W.append('<div class="slider-container"></div>');o=t(".slider-container");y();o.css("opacity",0);t(E).bind("resize",t.proxy(this.resize,this));if(F.enableKeys===true){t(z).bind("keydown",O)}o.append(P+X+U);Y=t(".left-img");S=t(".center-img");Q=t(".right-img");Y.find("img").attr("src",s(N));S.find("img").attr("src",k(M));Q.find("img").attr("src",s(e));setTimeout(function(){var Z=3;t(".img-container").each(function(aa){var ab=t(this).find("img");ab.ensureLoad(function(){Z-=1;J(ab);if(Z===0){f()}})})},200)};t.fn.resize=c.prototype.resize=function(){var R=this,Q=t(E).width(),P=t(".img-container img"),S=(Q-o.find(".center-img img").width())/2;o.css("width",x()+"px");o.css("height",q()+"px");if(F.sizeConstraint=="contain"&&o.find(".center-img img").width()){o.css("left",S+"px")}P.each(function(T){J(t(this))})};t.fn.getCurrentIndex=function(){return M};t.fn.getLeftIndex=function(){return N};t.fn.getRightIndex=function(){return e};t.fn.isLoading=function(){return !p};t.fn.isLoadingLeft=function(){return C};t.fn.isLoadingRight=function(){return G};t.fn.isAnimating=function(){return r};var D=t.fn.canShiftLeft=function(){return(p&&!G&&!r)};var d=t.fn.canShiftRight=function(){return(p&&!C&&!r)};var a=t.fn.shiftLeft=c.prototype.shiftLeft=function(){var W=t(E).width(),V=o.find(".left-img"),P=o.find(".right-img"),Q=o.find(".center-img"),R=0,T=-W;if(D()){r=true;M=M+1;if(M>=F.media.length){M=0}H(M);v();if(F.sizeConstraint==="contain"){var U=new Image();U.src=P.find("img").attr("src");var S=U.width;var X=U.height;R=(W-P.find("img").width())/2;T=-Q.find("img").width()+(W/2)-(P.find("img").width()/2)}P.css("z-index",5);I();o.animate({left:T+"px"},F.animationSpeed,function(){r=false;o.css("left",R+"px");Q.removeClass("center-img").addLeftProperties(F);V.removeClass("left-img").addRightProperties(F).find("img").attr("src",s(e));P.removeClass("right-img").addCenterProperties(F);v();$newRight=o.find(".right-img img");$newCenter=o.find(".center-img img");$newLeft=o.find(".left-img img");$newCenter.attr("src",k(M));$newRight.ensureLoad(function(){B();p=true;J(t(this))})});return true}else{return false}};var h=t.fn.shiftRight=c.prototype.shiftRight=function(){var W=t(E).width(),V=o.find(".left-img"),P=o.find(".right-img"),Q=o.find(".center-img"),R=0,T=W;if(d()){r=true;M=M-1;if(M<0){M=F.media.length-1}H(M);v();A();if(F.sizeConstraint==="contain"){var U=new Image();U.src=V.find("img").attr("src");var S=U.width;var X=U.height;R=(W-V.find("img").width())/2;T=(W/2)+(V.find("img").width()/2)}V.css("z-index",5);o.animate({left:T+"px"},F.animationSpeed,function(){r=false;o.css("left",R+"px");P.removeClass("right-img").addLeftProperties(F).find("img").attr("src",s(N));Q.removeClass("center-img").addRightProperties(F);V.removeClass("left-img").addCenterProperties(F);v();$newLeft=o.find(".left-img img");$newRight=o.find(".right-img img");$newCenter=o.find(".center-img img");$newCenter.attr("src",k(M));$newLeft.ensureLoad(function(){l();J(t(this))})});return true}else{return false}};t.fn.destroy=function(){$leftArrow.unbind("click",K);$rightArrow.unbind("click",b);if(F.enableKeys===true){t(z).unbind("keydown",O)}t(E).unbind("resize",this.resize);t(this).removeData();o.remove()};var y=function(){var P=t(g.element),Q=F.media.length;if(Q>1){if(F.leftArrow){if(F.leftArrow instanceof jQuery){$leftArrow=F.leftArrow}else{throw new Error("left arrow provided is not a jQuery instance: "+F.leftArrow)}}else{o.append('<div class="arrow-container left">'+i()+"</div>");$leftArrow=t(".arrow-container.left")}if(F.rightArrow){if(F.rightArrow instanceof jQuery){$rightArrow=F.rightArrow}else{throw new Error("left arrow provided is not a jQuery instance: "+F.rightArrow)}}else{o.append('<div class="arrow-container right">'+i()+"</div>");$rightArrow=t(".arrow-container.right")}}if(F.hideArrows===true){this.$leftArrow.hide();this.$rightArrow.hide()}else{this.$leftArrow.bind("click",t.proxy(K,this));this.$rightArrow.bind("click",t.proxy(b,this))}};var A=function(){C=true;t(".arrow-container.left").html(i())};var I=function(){G=true;t(".arrow-container.right").html(i())};var l=function(){C=false;t(".arrow-container.left").html('<span class="slider-js-left-arrow"></span>')};var B=function(){G=false;t(".arrow-container.right").html('<span class="slider-js-right-arrow"></span>')};var i=function(){return'<div class="loader-wrapper"><img src="'+F.preloaderPath+'"/></div>'};var O=function(P){switch(P.keyCode){case 37:h();break;case 39:a();break}};var K=function(){o.parent().trigger("slider:onLeft");if(F.manualShift===false){h()}};var b=function(){o.parent().trigger("slider:onRight");if(F.manualShift===false){a()}};var f=function(){p=true;t(this).resize();var P=t(g.element);l();B();o.animate({opacity:1},400);o.parent().trigger("slider:loadComplete")};var v=function(){J(o.find(".center-img img"));J(o.find(".left-img img"));J(o.find(".right-img img"))};var w=0;var J=function(P){var W=x(),aa=q(),U=W/aa,T=new Image(),Z={},S,Y,V,R,X;T.src=P.attr("src");S=T.width;Y=T.height;X=S/Y;if(F.sizeConstraint==="contain"){if(U>X){R=q();if(R<F.minHeight){R=F.minHeight}V=(R/Y)*S;Z={height:R,width:V}}else{V=x();if(V<F.minWidth){V=F.minWidth}R=(V/S)*Y;Z={width:V,height:R}}}else{if(U<X){R=q();if(R<F.minHeight){R=F.minHeight}V=(R/Y)*S;Z={height:R,width:V}}else{V=x();if(V<F.minWidth){V=F.minWidth}R=(V/S)*Y;Z={width:V,height:R}}}if(!Z.width||!Z.height){return}if(P.parent().hasClass("center-img")){w=V}Z.width=Z.width+"px";Z.height=Z.height+"px";P.css(Z);if(F.sizeConstraint=="contain"){P.parent().css("top",Math.max(F.topPadding,((aa/2)+P.height()/-2))+"px")}if(P.parent().hasClass("center-img")){P.parent().css("margin-left",(W/-2)+"px")}if(P.parent().hasClass("left-img")){if(F.sizeConstraint=="contain"){P.parent().css("left",(W/2)-(o.find(".center-img").width()/2)-P.width()+"px")}else{P.parent().css("left",-W+"px")}}if(P.parent().hasClass("right-img")){if(F.sizeConstraint=="contain"){var Q=(W-w)/2;P.parent().css("left",(W/2)+(w/2)-Q+"px")}else{P.parent().css("left",W+"px")}}};var x=function(R){var P=t(E).width(),Q;if(n){var S=parseInt(F.width.replace("%",""),10)/100;Q=S*P}else{Q=F.width.replace("px","")}if(R===true){Q+="px"}return Q};var q=function(R){var P=E.innerHeight,Q;if(m){var S=parseInt(F.height.replace("%",""),10)/100;Q=S*P}else{Q=F.height.replace("px","")}if(F.topPadding){Q=Math.max(0,Q-F.topPadding)}if(F.bottomPadding){Q=Math.max(0,Q-F.bottomPadding)}if(R===true){Q+="px"}return Q};var H=function(P){var Q=F.media.length;M=P;N=M-1;e=M+1;if(N<0){N=Q-1}if(e>=Q){e=0}};var s=function(P){if(F.media[P].lo_res){return F.media[P].lo_res}return F.media[P].hi_res};var k=function(P){return F.media[P].hi_res};t.fn.extend({ensureLoad:function(P){return this.each(function(){if(this.complete){P.call(this)}else{if(this instanceof jQuery){this.load(P)}else{t(this).load(P)}}})},addCenterProperties:function(Q){var P=x();return this.each(function(){t(this).addClass("center-img").css("left","50%").css("z-index",5).css("margin-left",(P/-2)+"px")})},addLeftProperties:function(Q){var P=x();return this.each(function(){t(this).addClass("left-img").css("z-index",4).css("margin-left","0px");if(Q.sizeConstraint!=="contain"){t(this).css("left",-P+"px")}})},addRightProperties:function(Q){var P=x();return this.each(function(){t(this).addClass("right-img").css("z-index",4).css("margin-left","0px");if(Q.sizeConstraint!=="contain"){t(this).css("left",P+"px")}})}});t.fn[j]=function(P){return this.each(function(){if(!t.data(this,"plugin_"+j)){t.data(this,"plugin_"+j,new c(this,P))}})}})(jQuery,window,document);